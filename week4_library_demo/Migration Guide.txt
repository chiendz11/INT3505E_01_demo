# ğŸ›‘ ThÃ´ng bÃ¡o Deprecation & Káº¿ hoáº¡ch NÃ¢ng cáº¥p API SÃ¡ch (V1 â†’ V2)

## 1. Tá»•ng quan

ChÃ o cÃ¡c Developer,

ChÃºng tÃ´i xin thÃ´ng bÃ¡o chÃ­nh thá»©c vá» viá»‡c phÃ¡t hÃ nh **API SÃ¡ch phiÃªn báº£n 2 (V2)** vÃ  báº¯t Ä‘áº§u quy trÃ¬nh **Deprecation** cho **API SÃ¡ch phiÃªn báº£n 1 (V1)**.

Má»¥c tiÃªu cá»§a V2:

* âœ… Cáº£i thiá»‡n Ä‘á»™ chÃ­nh xÃ¡c dá»¯ liá»‡u tá»“n kho
* âœ… Chuáº©n hÃ³a cáº¥u trÃºc dá»¯ liá»‡u cho cÃ¡c phiÃªn báº£n tÆ°Æ¡ng lai
* âœ… TÄƒng tÃ­nh má»Ÿ rá»™ng vÃ  nháº¥t quÃ¡n cá»§a há»‡ thá»‘ng

---

## 2. ğŸ—“ Timeline Chuyá»ƒn Ä‘á»•i Quan trá»ng

| Giai Ä‘oáº¡n   | Sá»± kiá»‡n                           | NgÃ y hiá»‡u lá»±c | Tráº¡ng thÃ¡i V1                                 |
| ----------- | --------------------------------- | ------------- | --------------------------------------------- |
| Giai Ä‘oáº¡n 2 | Deprecation (PhÃ¡t hÃ nh song song) | 2025-11-26    | V1 váº«n hoáº¡t Ä‘á»™ng nhÆ°ng tráº£ vá» Header cáº£nh bÃ¡o |
| Giai Ä‘oáº¡n 3 | Sunset (Ngá»«ng hoáº¡t Ä‘á»™ng)          | 2026-05-26    | V1 bá»‹ vÃ´ hiá»‡u vÃ  tráº£ vá» HTTP 410 Gone         |

> âš ï¸ **HÃ nh Ä‘á»™ng báº¯t buá»™c:** Táº¥t cáº£ client pháº£i hoÃ n táº¥t nÃ¢ng cáº¥p lÃªn V2 trÆ°á»›c ngÃ y **2026-05-26**.

---

## 3. ğŸ›  Migration Guide: Chuyá»ƒn tá»« V1 sang V2

### 3.1 Breaking Change: Thay Ä‘á»•i tÃªn trÆ°á»ng tá»“n kho

| Endpoint                | Version | TrÆ°á»ng cÅ© (V1)   | TrÆ°á»ng má»›i (V2) |
| ----------------------- | ------- | ---------------- | --------------- |
| GET /api/books/{bookId} | V1 â†’ V2 | available_copies | stock_count     |

ğŸ“Œ **HÃ nh Ä‘á»™ng báº¯t buá»™c:**

* Cáº­p nháº­t code client Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u tá»“n kho tá»« trÆ°á»ng `stock_count` khi sá»­ dá»¥ng V2.

---

## 4. CÃ¡ch gá»i API V2 (Chá»n 1 trong 3 chiáº¿n lÆ°á»£c)

### A. URL Versioning (Khuyáº¿n nghá»‹ cho client má»›i)

```
V1: GET /api/v1/books/{bookId}
V2: GET /api/v2/books/{bookId}
```

### B. Header Versioning (Khuyáº¿n nghá»‹ cho client linh hoáº¡t)

```
GET /api/books/{bookId}
Accept: application/vnd.book-service.v2+json
```

### C. Query Parameter Versioning

```
GET /api/books/{bookId}?v=2
```

---

## 5. âš  Cáº£nh bÃ¡o Deprecation

Trong giai Ä‘oáº¡n hiá»‡n táº¡i, náº¿u client váº«n gá»i V1, server sáº½ pháº£n há»“i kÃ¨m Header:

```
Warning: 299 - "API V1 is deprecated and will be sunset on 2026-05-26. Please upgrade to V2."
Sunset: Sun, 26 May 2026 00:00:00 GMT
Deprecation: true
```

ğŸ“ Ã nghÄ©a:

* Client cá»§a báº¡n váº«n Ä‘ang sá»­ dá»¥ng V1
* V1 sáº½ ngá»«ng hoáº¡t Ä‘á»™ng hoÃ n toÃ n sau ngÃ y 2026-05-26

âœ… HÃ nh Ä‘á»™ng: NÃ¢ng cáº¥p ngay lÃªn V2 Ä‘á»ƒ trÃ¡nh lá»—i 410 Gone.

---

## 6. HÃ nh vi há»‡ thá»‘ng sau Sunset

Sau ngÃ y 2026-05-26:

* Táº¥t cáº£ request tá»›i V1 sáº½ nháº­n:

```
HTTP/1.1 410 Gone
{
  "message": "API V1 has been permanently removed. Please use V2."
}
```

---

## 7. Checklist Cho Developer

* [ ] Kiá»ƒm tra há»‡ thá»‘ng cÃ³ Ä‘ang dÃ¹ng V1 khÃ´ng
* [ ] Cáº­p nháº­t endpoint sang V2
* [ ] Thay tháº¿ available_copies â†’ stock_count
* [ ] Kiá»ƒm thá»­ láº¡i logic tá»“n kho
* [ ] Deploy production trÆ°á»›c 2026-05-26

---

## 8. TÃ i liá»‡u tham kháº£o

* ğŸ“„ OpenAPI Specification V2
* ğŸ“˜ Migration Guide chi tiáº¿t
* ğŸ“ Support: [api-support@yourdomain.com](mailto:api-support@yourdomain.com)

---

## âœ… Káº¿t luáº­n

Viá»‡c nÃ¢ng cáº¥p lÃªn V2 lÃ  báº¯t buá»™c Ä‘á»ƒ Ä‘áº£m báº£o sá»± á»•n Ä‘á»‹nh vÃ  tÃ­nh tÆ°Æ¡ng thÃ­ch lÃ¢u dÃ i. ChÃºng tÃ´i khuyáº¿n khÃ­ch cÃ¡c báº¡n thá»±c hiá»‡n migration sá»›m Ä‘á»ƒ trÃ¡nh giÃ¡n Ä‘oáº¡n dá»‹ch vá»¥.

TrÃ¢n trá»ng,
**API Core Team**
